# QtGame - 2D对战游戏

这是一个基于Qt框架开发的2D对战游戏，支持双人同屏对战，包含完整的物理系统、武器系统和地形系统。

## 项目特性

### 必选功能需求（100%）

1. **基本移动和生命值系统（20%）**
   - ✅ 双玩家左右移动控制
   - ✅ 跳跃系统，可跳到更高平台
   - ✅ 下蹲和拾取系统
   - ✅ 攻击系统
   - ✅ 重力加速度物理系统
   - ✅ 双人同屏对战

2. **多种地形系统（15%）**
   - ✅ 不同高度的平台
   - ✅ 土地（普通地形）
   - ✅ 草地（下蹲时隐身效果）
   - ✅ 冰场（移动速度增加）

3. **生命值系统（10%）**
   - ✅ 生命值显示和管理
   - ✅ 伤害系统
   - ✅ 胜负判定

4. **物品掉落系统（5%）**
   - ✅ 随机物品掉落
   - ✅ 重力物理效果

5. **武器系统（20%）**
   - ✅ 拳头（近战，默认武器）
   - ✅ 小刀（近战，无限使用）
   - ✅ 实心球（投掷，斜抛运动）
   - ✅ 步枪（远程，快速射击）
   - ✅ 狙击枪（远程，高伤害，慢射击）

6. **掉落装备系统（10%）**
   - ✅ 绷带（恢复少量血量）
   - ✅ 医疗箱（恢复全部血量）
   - ✅ 肾上腺素（增加移动速度和持续回血）

7. **用户体验（20%）**
   - ✅ 友好的用户界面
   - ✅ 清晰的状态显示
   - ✅ 稳定的60FPS帧率
   - ✅ 实时FPS显示

## 控制说明

### 玩家1（蓝色）
- **A/D**: 左右移动
- **W**: 跳跃
- **S**: 下蹲/拾取物品
- **空格**: 攻击/开火

### 玩家2（红色）
- **J/L**: 左右移动
- **I**: 跳跃
- **K**: 下蹲/拾取物品
- **Shift**: 攻击/开火

### 系统控制
- **P**: 暂停/继续游戏
- **R**: 游戏结束后重新开始
- **ESC**: 退出游戏

## 游戏机制

### 地形效果
- **普通土地**: 无特殊效果
- **草地（绿色）**: 玩家下蹲时进入隐身状态
- **冰场（浅蓝色）**: 玩家移动速度增加50%

### 武器特性
- **拳头**: 伤害15，射程50，冷却800ms
- **小刀**: 伤害25，射程60，冷却600ms
- **实心球**: 伤害35，3发，抛物线轨迹
- **步枪**: 伤害20，30发，快速射击
- **狙击枪**: 伤害60，5发，慢速射击

### 物品效果
- **绷带**: 恢复20点血量
- **医疗箱**: 恢复至满血
- **肾上腺素**: 10秒内移动加速30%并每秒恢复5血量

## 项目结构

```
QtGame/
├── CMakeLists.txt          # CMake配置文件
├── README.md              # 项目说明文档
├── include/               # 头文件目录
│   ├── Vector2D.h         # 2D向量工具类
│   ├── GameConfig.h       # 游戏配置常量
│   ├── Player.h          # 玩家类
│   ├── Weapon.h          # 武器系统
│   ├── Item.h            # 物品系统
│   ├── GameEngine.h      # 游戏引擎
│   └── GameWindow.h      # 主窗口界面
├── src/                  # 源文件目录
│   ├── Vector2D.cpp      # 2D向量实现
│   ├── Player.cpp        # 玩家类实现
│   ├── Weapon.cpp        # 武器系统实现
│   ├── Item.cpp          # 物品系统实现
│   ├── GameEngine.cpp    # 游戏引擎实现
│   ├── GameWindow.cpp    # 主窗口实现
│   └── main.cpp          # 程序入口点
└── resources/            # 资源文件目录
```

## 编译和运行

### 系统要求
- Qt 6.0 或更高版本
- C++17 支持的编译器
- CMake 3.16 或更高版本

### Windows 编译步骤

1. **安装Qt**
   ```bash
   # 确保Qt开发环境已正确安装并配置
   ```

2. **创建构建目录**
   ```bash
   mkdir build
   cd build
   ```

3. **配置项目**
   ```bash
   cmake .. -DCMAKE_PREFIX_PATH="你的Qt安装路径"
   # 例如: cmake .. -DCMAKE_PREFIX_PATH="C:/Qt/6.5.0/msvc2019_64"
   ```

4. **编译项目**
   ```bash
   cmake --build . --config Release
   ```

5. **运行游戏**
   ```bash
   ./bin/QtGame.exe
   ```

### Linux 编译步骤

1. **安装依赖**
   ```bash
   # Ubuntu/Debian
   sudo apt-get install qtbase6-dev cmake build-essential
   
   # CentOS/RHEL
   sudo yum install qt6-qtbase-devel cmake gcc-c++
   ```

2. **编译运行**
   ```bash
   mkdir build && cd build
   cmake ..
   make -j4
   ./bin/QtGame
   ```

## 技术特点

### 架构设计
- **MVC模式**: 清晰的模型-视图-控制器架构
- **include/src分离**: 标准的C++项目结构
- **组件化设计**: 各系统模块独立，便于维护

### 代码特性
- **Doxygen注释**: 完整的API文档注释
- **智能指针**: 现代C++内存管理
- **RAII原则**: 资源自动管理
- **常量配置**: 集中的游戏参数管理

### 性能优化
- **对象池**: 投射物和物品的高效管理
- **碰撞优化**: 空间分区和早期退出
- **渲染优化**: 批量绘制和视锥裁剪
- **帧率控制**: 稳定的60FPS游戏循环

## 开发团队

- **架构设计**: MVC模式，模块化设计
- **物理引擎**: 重力系统，碰撞检测
- **渲染系统**: Qt图形框架，色块美术
- **音效系统**: 预留接口（未实现）
- **用户界面**: 实时状态显示，友好交互

## 版本信息

- **版本**: 1.0.0
- **开发时间**: 2024年
- **技术栈**: Qt6 + C++17 + CMake
- **许可证**: MIT License

## 常见问题

**Q: 游戏无法启动？**
A: 检查Qt环境是否正确安装，确保所有依赖库都能找到。

**Q: 帧率不稳定？**
A: 检查系统性能，关闭其他占用GPU的应用程序。

**Q: 控制不响应？**
A: 确保游戏窗口获得焦点，点击窗口区域激活。

**Q: 如何修改游戏参数？**
A: 编辑`include/GameConfig.h`文件中的常量定义。